{"version":3,"sources":["webpack:///path---posts-better-diagrams-through-dot-c62ba2c5f38e5a521ba5.js","webpack:///./.cache/json/posts-better-diagrams-through-dot.json"],"names":["webpackJsonp","493","module","exports","data","site","siteMetadata","title","subtitle","author","name","twitter","disqusShortname","url","markdownRemark","id","html","fields","tagSlugs","frontmatter","tags","date","description","pathContext","slug"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,cAAgBC,MAAA,wBAAAC,SAAA,oCAAAC,QAAyFC,KAAA,kBAAAC,QAAA,kBAAoDC,gBAAA,GAAAC,IAAA,yBAAoDC,gBAAmBC,GAAA,8JAAAC,KAAA,0ukBAA4gkBC,QAA8lBC,UAAA,iCAA4CC,aAAgBZ,MAAA,8BAAAa,MAAA,kBAAAC,KAAA,2BAAAC,YAAA,oLAAmSC,aAAgBC,KAAA","file":"path---posts-better-diagrams-through-dot-c62ba2c5f38e5a521ba5.js","sourcesContent":["webpackJsonp([52270612062531],{\n\n/***/ 493:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"To kill a mocking bug\",\"subtitle\":\"Unearthing curious .NET behaviour\",\"author\":{\"name\":\"Jeroen Vannevel\",\"twitter\":\"VannevelJeroen\"},\"disqusShortname\":\"\",\"url\":\"https://vannevel.net\"}},\"markdownRemark\":{\"id\":\"/Users/jeroenvannevel/Documents/source/vannevel.net/src/pages/articles/2020-06-14---Better-Diagrams-Through-DOT/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>I’ve often found myself thinking about how useful it would be to create a diagram of some architecture but more often than not, the thought of having to go in Google Drawings and mess around with arrows and circles stops me in my tracks. Whenever I do go for it, I spend most of my time on laying it all out. Updating a previously created diagram is a plain no-go.</p>\\n<p>For a project I wanted to dig deeper into some existing architecture and quickly found myself overwhelmed — a flow diagram was inevitable. While I initially hoped to automatically generate one, that proved to be impossible. Throughout all this I did come across <a href=\\\"https://en.wikipedia.org/wiki/DOT_(graph_description_language)\\\">DOT</a> — a <em>graph description language</em> which allows you to define nodes and edges and takes care of all the visual aspects. </p>\\n<h2>Getting started</h2>\\n<p>It’s quite straightforward to get started:</p>\\n<ul>\\n<li>Install <a href=\\\"https://graphviz.org/download/\\\">GraphViz</a>, which includes DOT</li>\\n<li>Install the <a href=\\\"https://marketplace.visualstudio.com/items?itemName=joaompinto.vscode-graphviz\\\">GraphViz VS Code extension</a></li>\\n</ul>\\n<p>With this in place, you can create a new <code class=\\\"language-text\\\">.gv</code> file in VS Code and use <code class=\\\"language-text\\\">Cmd</code> + <code class=\\\"language-text\\\">K</code> + <code class=\\\"language-text\\\">V</code> to open the preview window and every change you make will immediately be rendered to the side.</p>\\n<h2>Your first diagram</h2>\\n<p>The DSL it uses is very straightforward: define the graph type (directed or not), define nodes and how they are related.\\nA very basic example could look like this:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    A -&gt; B\\n}</code></pre>\\n      </div>\\n<p>which brings us to this basic graph:</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/basic-graph-c61b70a05e2bdc78105f7e9a82d3a1f8-444f3.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 196px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 182.65306122448982%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAYAAABCr8kFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAD4klEQVRIx62Wt04sSxCG9wEOHgEJ7jmIycjJyAiIAGEkEAEJIIQRRDwAIU547723QoBwwggPQnhbV19JPfTO7oVzzr0l9W5PT8/ff1dV19+emJgYiYiIkICAAAkKCpLAwEBtPP/69UvHQkJCtNFnnGbmmbGwsDAByxMeHi6pqakyODgobW1t2jo6OmRgYEDH2tvbpaGhQerr66WlpUX6+/t1vKurS+e2trbqc3FxsYDlYYXKykpx2/HxsSwsLMjc3JzMzMzI9PS0zM7O6vPu7q7P/NHRUWXsCQ4OVnRjGxsb0tTUpCAnJyfy8PDgvHt+fpbz83NZWVmR5uZmXeTz81PfsSvIKWBRUZEOwqCnp8eZZIxn9xjGot3d3drHBQrIT0VFhdzd3alPjL2/vzsgHx8f8vb25oDzTMPGx8fVBSMjIxocD/uurq6W+fl59ZsBMKDY5OSk1NbWeo2ZxXAD7x2GAMIQZ19eXvpsEXAinJWV5fXeXpitNzY2Smho6BfDpaUl2dvb89kugVldXdWtLS4uOkAGDFfBsK+v78uHZWVlOoFVbB+aj2xjzGwbIyhEfmhoyDdtdnZ2NB2urq7kJ8N3ZASpg3V2dn6lTUlJiTMRMBzMSdnc3JTr62u5vb2V+/t77e/v72sSc4KMiwxTH8DX11dnwtnZmZ6U4eFhZU2U6cPo8PDQmWe+caJsA5pguH0HOJF0J7udn98Cmg+M8w8ODmRiYkL7ANhp9duAdr4dHR05gO45f8TQ9PGZAWSbfwVoM2TLJPZ/ArQZXlxcaMTts/xHgDYYaZGSkiIJCQnK1M3yR0A7JUyOJSUlqWb4K20/Avo7vzU1NZKWlub3XH8LaBhxzKiPHCeOIJMRI04KfSKOX+1d+T16GCWKyo22oCduxhQFzjOFgQXMey+GptqMjY1p+11bX193ZMOrYiOjVGNWddc83LC2tqYRtiu1eY9r2I2XplRVVakEnJ6e+uTg4+OjqiLN+M1OLYJCxUZG2a3D8N805eXlRUpLS6WwsFCZ2FryraagG1tbW14VBXt6epLe3l6ZmppyRN8ucTc3N8qQbFAJwJEwwOrq6pSRLURugXdrCvcdKjr3Gx9NQZehbo7Yd4YckJtcS3w0xb7bkNTcsHAyBYFbAeWLmoiGEHGyAQAk1pgDyE95eblfFjCFwfLysuo2/e3tbccttjkyGhUVJYmJiZKbmysZGRmSmZkp6enpkp2dLXl5eVJQUKD/pp+fny85OTk61zS+TU5OFrA83DojIyOVLtu3m7nR8m/fbv3N47KpN9jo6GiJjY2V+Ph4iYuL+6tmvgVLGf6f7R+VUhaxGlTNjQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Basic directional graph A to B\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/basic-graph-c61b70a05e2bdc78105f7e9a82d3a1f8-444f3.png\\\"\\n        srcset=\\\"/static/basic-graph-c61b70a05e2bdc78105f7e9a82d3a1f8-444f3.png 196w\\\"\\n        sizes=\\\"(max-width: 196px) 100vw, 196px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>Your second diagram</h2>\\n<p>With the simplest of definitions we’ve been able to connect two nodes but the real work still has to start. Our system will be more complex and consist out of larger subsystems, each of which we might want to model. Take a look at this example:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    subgraph cluster_client {\\n        A\\n        B\\n        C\\n    } \\n    \\n    subgraph cluster_server {\\n        X\\n        Y\\n        Z\\n    }\\n\\n    A -&gt; B -&gt; C\\n    C -&gt; B\\n    A -&gt; A\\n\\n    X -&gt; Z -&gt; Y\\n    Y -&gt; X\\n\\n    B -&gt; X\\n}</code></pre>\\n      </div>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-a25be.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 168.81355932203388%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABYlAAAWJQFJUiTwAAADQklEQVRIx6WWeUtyURDG7xfsI/RvH0NakMokgj5C/hNFq2UECWIEUZAQLaSm5lLZoi1m+7z8JuZilnGv78Dh3OWcZ555Zubc6/T29sra2ppMT0/L7OyszM3N6ZiZmXEH9/Pz87KwsCDRaFSWl5d1cM1YXFyUjY0NCQaD4oyOjgp2f38vjUZDbm5u5Pb2Vl5eXuT19VXnh4cH8WLxeFycgYEBeXx8lMvLSykWi3J9fS1XV1eSTqd11Go1OT8/V4efn5/y9vYm7+/v3wZOMdg6Q0ND0mw2JZvN6sNKpSJ3d3fy8fGhM4wLhYK7CdB2wwm2urr6Bfj8/Cz5fF5DJlwcnJ6eyvr6utTrdSmVSvrMF6DpR9gA5HI5SSaTuhAZnp6evAPi3RjACE1bDU19A9oGmG5tbek1gncNaAxJCnVH+EjxXwwpHcoDzSiXcrmsiwH3DDg4OKglwSYAsd3dXXVCQTPIvG+GhAcoIRvL4+NjXchztDXAdtA/kwJYIpHQHub5xcWFVKtVvTaw9vEnoIVKPWLIsb+//2c/01U/AC2kVColS0tLWosWGiwppe3tbe1rih5pYM67s7MzXc+ppYCwQ0OADw8P5eTkRDdQLgZIK0YiEdWVHqeb7L1FFYvFvgAJiw7BO8ZhgC5WfzDJZDJu2AcHBxomiUNzrln3DZDFlA3dASMWMfMOYAB5jyPYsQ4w9nGNZC4gN3hgZjFAJIVywbhGJ8Aodt7v7OzoqY0hl8uQwkZ8NhCaCQ0brpkBMTkwughmgOKE4TLs7+/v2AFmhGRdhJFtW48j5PkBiJffitZq0QDRbWpqSqWxg4NnZPpXwFazez5W1jH0NZpROjhBZ0BxqoXtBZB3lBKA2N7ens4UM58OSg4nvhjCBibUHkCAdM2wVUOyS9eQefveEL5vDVuzjAP77tgh3DHLXgCPjo50M8UMu2+d4heQjRwe9DM/B10BEiIZttazdsR47jvLACI+TKwFjTEZhiVrFDAQCLhnGqG1DxOcemMTgITKeclsP1I4XFlZEWdkZMTTrxrsLApmQOxbYp+Pzc1NcXp6emRiYkKGh4eFf8VOIxwO6xgbG9N5fHzcvQ+FQjI5OSl9fX3yD6qL0zkTkHUqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Advanced graph with subgraphs\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-a25be.png\\\"\\n        srcset=\\\"/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-7c5ba.png 240w,\\n/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-62101.png 480w,\\n/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-a25be.png 590w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>There are a couple of things at play here:</p>\\n<ul>\\n<li>We’ve introduced the concept of a <code class=\\\"language-text\\\">subgraph</code> which allows us to provide a logical grouping for subsystems</li>\\n<li>By prefixing the graph name with <code class=\\\"language-text\\\">cluster_</code>, it will render it with a bounding rectangle</li>\\n</ul>\\n<p>It’s important to note that I’ve opted to split out declaring the node and edges from eachother. If we were to omit the node declaration and have it inferred from the edge declaration, the node would be included in the subgraph the edge is defined in which is not always what’s intended. The below example can make this clear:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    subgraph cluster_client {\\n        A\\n    } \\n    \\n    subgraph cluster_server {\\n        B\\n    }\\n\\n    A -&gt; B\\n}</code></pre>\\n      </div>\\n<p>will produce</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/graph-separate-ace8072ddd3478fb58c3d2b33259cf7d-412f3.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 290px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 147.58620689655174%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAABYlAAAWJQFJUiTwAAADIklEQVRIx62VS05iYRCFWQUyUEN0Cw5IVNbBAtyBMwZqTBi6EuPIgTEEHSm+kZf4fqKi+EZFFKjOV526ubZwW9NdSflffy5Vp06dKnxDQ0OytLQk8XhcEomEzM3Nfdt5f35+Xr/b19cngUBAfLFYTP6HhcNh8fv94hsZGdGL3d1dWV1dlUwmI5ubm+q5XE7y+bzj2WxWUqmUfsZ7y8vL8vDwIB8fHzIwMPA5IMHK5bK8vb3J+/u71Go1ubi4kPPzc/VisSg3NzfSaDTk9fVVz62tLb3H+vv7fwccHR3VC7K+vLzo893dnSLZ3t6WnZ0dPakAlKAGEXZ0dKRJMQehBdzY2FBUV1dXihakrYwqksmkPh8fHyv6lgFB+Pj4qCflmD0/P8v6+ro+1+t1PS8vL+Xw8FDOzs7aB6SU09NTLQ2DR2xvb08mJiY0mQVtNptaPiW3DQhnkA3CSqXiILy/v5fb21t5enpy7khCIE+EcEhAGoMcKOtPAzVNIjlG2W0DptNppxFwuL+/r7rjHg55hhYLgJ2cnHztsulwZWVFu0Z56A3B0tGDgwMdL7rP/3DJMyeJLMEXHZZKJdUbyOCI5lASyGZnZzWw3XPilE9VNMpBODY2pgHpXCurVqtSKBQ85xhuBwcHPwd0a89tZIerbwe0kpEHZaEtnNIhfHJyUiKRiDYEju0d6OB/ErZcDhAMPwRh4I346elpXU3cX19fK9cMAM+MqMmr5egxy2Z8EZQkmpmZ0YaBzi16AntOCnMLl2tra4rWPR00DTmRmOAYCf66bViclGuGLkHiNt5Bk56jh974EG25l8PCwoJEo1FnV4KURrBcPZcDI0ZJBHbrEg1OTU3pnNsdUwQlnhxSMqiQAhJpZ0wGCxZ60KfngrUmoDEaQ/m2upAHibinEsy06onQbSZ2yqYBqMBtILQfqS/CtuxsYrrIaT9S9kOFwzGf05TFxUWtAKk5AcfHxz8tAsh3O901tzt7z12RM8vDw8PKCbwB/ydOlykbLkOhkHR0dIgvGAxKb2+vek9Pz4/dvtvd3S1dXV3i409nZ+c/O3EI+gtnlbsjEN4iOgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Graph with edges and nodes separated\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/graph-separate-ace8072ddd3478fb58c3d2b33259cf7d-412f3.png\\\"\\n        srcset=\\\"/static/graph-separate-ace8072ddd3478fb58c3d2b33259cf7d-a9ab8.png 240w,\\n/static/graph-separate-ace8072ddd3478fb58c3d2b33259cf7d-412f3.png 290w\\\"\\n        sizes=\\\"(max-width: 290px) 100vw, 290px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>However if we were to define the edge connection in-place then the rendering shows no separate subgraphs: <code class=\\\"language-text\\\">B</code> is considered to be in the same cluster as <code class=\\\"language-text\\\">A</code>.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    subgraph cluster_client {\\n        A -&gt; B\\n    } \\n    \\n    subgraph cluster_server {\\n        B\\n    }\\n}</code></pre>\\n      </div>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/graph-together-2fcfb899e16f8f6fee5590ae9d50efe4-332f7.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 264px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 155.3030303030303%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC20lEQVRIx62WuU6CQRDHeSg6e0ufwRfAQoMPYOzAysSEjmBBbOytiPFAjQcawPvA+wARAiigjvlNMl8W/dBAnGTz7c7O/Heunf0Cg4ODMj09LVNTUxKNRvXby0AnEonIzMyMDA8PS2B8fFz+i+bn5yUQCoV0Ua1W5ejoSI6Pj71xeHiog/nJyYnuszY5ePv7+/L09KQY8XhcAiMjI7o4PT2VlZUVubm50fnFxYXc3t56a5Svr6/l7u5OCoWC8thLp9Oyu7urGIlEohMQAZeurq7k4OBA8vm85HI5nSPXbrc9mWKxqFb6AjIgrFheXpbz83N5fn6WZrMp7+/v8vLy4lmF23Yoh/0AxKXLy0t5e3tTsI+Pj18TsL29rSHBwmw2+xOQIGMZQX98fFSeuYarCwsLHTy+e3t7ajEh8QXkRJRxEzIrFxcXJRaLSaPR6OBjGcnzjaFl8eHhwcuaWQJQvV6X19dXjw8Q3nR1mYScnZ15J+/s7CjId2q1WpqQ9fV1XeOVb1IAJKtGCG5tbcnm5qYOAGyNN0ZdY+gCUiKuy4BvbGxo7Cx+9gXwTwtN0ZQqlYqnZPzPz8/eACFTKpVKXqK+7/UFSHIsbn0DomBKmUxGW5MBuXs9xdCSMzY2JsFg0EuUG9+eXCbDWJJMJmViYkL5bnH/WYdW2HZzKBXc5VYwKHh4fCnwP+vQACle7nQ3AoRmbK2ua/tCkPtsYBZ4SsatQ+j+/l55v7Yv6zblcrlDeXZ2ViYnJ73WZckCkLj7dhsD5OLjhtv71tbWJJVKKZBZTSPGcrPU12UeH6xaWlqSWq32a8fmGaBv0oy7ti97U3g7VldXVZAnEiX6JPHCE54Ie9B4U3yzbA3WJWLpvtU0VFx0iUN8AQkusQLUSojTias72EcWGeb0SV+XuQEIYqm5z9z9k7C/Bds3GULkAXJP/4vm5uYkMDAwIKOjo4Kl/Q7+j8LhsAwNDckXn1qivPeuIhsAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Graph with edges and nodes together\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/graph-together-2fcfb899e16f8f6fee5590ae9d50efe4-332f7.png\\\"\\n        srcset=\\\"/static/graph-together-2fcfb899e16f8f6fee5590ae9d50efe4-f99b7.png 240w,\\n/static/graph-together-2fcfb899e16f8f6fee5590ae9d50efe4-332f7.png 264w\\\"\\n        sizes=\\\"(max-width: 264px) 100vw, 264px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>Particularly when you’re constantly revisiting your idea of what the architecture looks like, I find it much easier to define all nodes first and draw the edges at the end: it will avoid a node being unintentionally considered part of a different cluster.</p>\\n<h3>Your third diagram</h3>\\n<p>Now that we are able to draw diagrams of any complexity, we’ll start to think a little bit more about how we can customize it. There are <a href=\\\"https://www.graphviz.org/doc/info/attrs.html\\\">many different aspects</a> we can change but some that come to mind:</p>\\n<ul>\\n<li>Change node names</li>\\n<li>Add labels to edges</li>\\n<li>Change arrow styles</li>\\n<li>Add background colours</li>\\n</ul>\\n<p>The documentation can provide all the info you need but as an example that applies this, here’s our example slightly reworked:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    node [style=filled, color=lightgrey]\\n    style=filled\\n    splines=ortho\\n\\n    subgraph cluster_client {\\n        label = &quot;Client&quot;\\n        color = &quot;darkorange&quot;\\n\\n        A [label = &quot;Step 1&quot;]\\n        B [label = &quot;Step 2&quot; shape = &quot;polygon&quot; skew=&quot;0.1&quot;]\\n        C [label = &quot;Step 3&quot;]\\n    } \\n    \\n    subgraph cluster_server {\\n        label = &quot;Server&quot;\\n        color = &quot;hotpink&quot;\\n        {rank = same; X; Y}\\n        \\n        X [label = &quot;Phase 1&quot;]\\n        Y [label = &quot;Phase 2&quot;]\\n        Z [label = &quot;Phase 3&quot;]\\n    }\\n\\n    A -&gt; B -&gt; C [arrowhead = &quot;diamond&quot;]\\n    C -&gt; B\\n    A -&gt; A\\n\\n    X -&gt; Z -&gt; Y\\n    Y -&gt; X [dir = &quot;both&quot;]\\n\\n    B -&gt; X [label = &quot;HTTP&quot; style = &quot;dotted&quot;]\\n}</code></pre>\\n      </div>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-65f4b.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 960px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 118.11460258780038%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEQUlEQVQ4y52U629TZRzHj6CEmPjCNxpeaoz+Eb7zJQmXwdptwEJCQNlYuAUCqExgDAOygA7BABJgQJzZut7WdW3ZSqG4G65oO0BiCDBGHA42drr1tOecj79zWnBzBhJO8s1z/zy/23OU2+EfuO4/Qr//KInWo/zuO0Qq1sTAzVsMDAxMUyqVIplM2e0zJZNJey2RSFBeXo5C3VzSXyrc2aiQ3qlArSi4ilf5qqqqUCb3vcm9kwsY+GkLDy+Uk9ujYLjLMGSDoecwDOOF0nXdhmUyGSorKwV45EPil6O4L/bRd/0m6fqPwLUEE5sIpvlCq8zCuqZpeSBfz2Jo77vcPvQx6uH3oVrB9Ja/OlDbN4exLxTGdihM7pL47coD7c2vaqEqydB2C1BkW+hZbltoAa0DL9N04Ldvw+F3eLx/Hn9Uz4MDc9H9qwvXGy/N7AzgcEcdvf1JOkOtxK92kertRI3ttzf9N5v/l+UZwJFILYnOZsKNR0h2NvJnqJ5M+2bbZSMnZZMTt/V/LbXGhoxtSV/P5vLAzDOXD75mx3Bwm0K2RmJoFbd3xTS3LNzw6AhP1LHp7op0Chbq2QKwbo4NGpVkpPfMBkmM2bIC82858EAAD1Vy90e5132D4cQdGFIxBp9iPBjHtPrSMpRGG35KZdU6C/gGmryOJ2LZxJ5ZIHCzwQkbesDRCmXBvFbHeLS8ibuOc+grZVweQXf6mSzxwuIA2vEElVs35IFZC1hdAO4V4BkH+qZuHn8e4q+DUUZ3djDsbGS8qJmJYjfDCy8wssbL/Zp2btT60CpCZI7+OhOY3j0r/3M4UczI+RsEuiK4LgWIpXq4sr2BsQU/o5a4ub/gDAnvZVzxIK29HaSuXCN97jfWbV5fcLkQQ23v688tNDZ2Mb4tzOMDMdQdHYyVuhgvdpF2um1XzbUXeVITlfqNoa0Ooj238OBszK8UHsnzG9oq1ll/m4YSqPgFFkp8lkgcl4pKg0w4PagCzThl3tkGRTJfHID53inAw29xt2kjcd8puj3HyHz/HpwpwqzqxnT6MJe3YS4TlQaYcLhRHS154LKgPW+skAQt8k0B7lcY8H1D0NfMtUutjNV/AMc/EWAPpkOAZXmYWRaw3VWdArQyK5m35+VCFk4FXqvDjNdiXj+F2fMdxKsx+1yw9pKUjV8OttkwSxNFLtRFTWSKPS8AFl7C1OpHlXZNROIUsN2yodLPVoS5W9HMSGmTxLQ9f5EFtFw+NgWY1SbRc5q8ywy6mUV/NI6+qh19iRe9RDIqyRn8MY475McfbqMndpV0VTvGYi+5Ulmf72ayvo+KLevzwBmfJtraBZ/GoPIyrIlhHOhl0NXHoL+f0fMJ2BSHz2R93RVYGYVzt1i/fTNKNBolFAoRDofziojaZXzeQ/ism3CDx9bFky1ET3noOO2h80QLkdPP1txEznpoa/Sw1FHMP0ZGIx9QUyEkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Graph with different arrowheads, colours, labels and other customizations\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-c83f1.png\\\"\\n        srcset=\\\"/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-569e3.png 240w,\\n/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-93400.png 480w,\\n/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-c83f1.png 960w,\\n/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-65f4b.png 1082w\\\"\\n        sizes=\\\"(max-width: 960px) 100vw, 960px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\",\"fields\":{\"tagSlugs\":[\"/tags/dot/\",\"/tags/diagrams/\"]},\"frontmatter\":{\"title\":\"Better diagrams through DOT\",\"tags\":[\"DOT\",\"Diagrams\"],\"date\":\"2020-06-14T18:00:00.000Z\",\"description\":\"Building flow diagrams can be tedious to create and even more to update. Rather than drawing shapes and lines yourself, consider using DOT to focus on what matters: the data.\"}}},\"pathContext\":{\"slug\":\"/posts/better-diagrams-through-dot\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---posts-better-diagrams-through-dot-c62ba2c5f38e5a521ba5.js","module.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"To kill a mocking bug\",\"subtitle\":\"Unearthing curious .NET behaviour\",\"author\":{\"name\":\"Jeroen Vannevel\",\"twitter\":\"VannevelJeroen\"},\"disqusShortname\":\"\",\"url\":\"https://vannevel.net\"}},\"markdownRemark\":{\"id\":\"/Users/jeroenvannevel/Documents/source/vannevel.net/src/pages/articles/2020-06-14---Better-Diagrams-Through-DOT/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>I’ve often found myself thinking about how useful it would be to create a diagram of some architecture but more often than not, the thought of having to go in Google Drawings and mess around with arrows and circles stops me in my tracks. Whenever I do go for it, I spend most of my time on laying it all out. Updating a previously created diagram is a plain no-go.</p>\\n<p>For a project I wanted to dig deeper into some existing architecture and quickly found myself overwhelmed — a flow diagram was inevitable. While I initially hoped to automatically generate one, that proved to be impossible. Throughout all this I did come across <a href=\\\"https://en.wikipedia.org/wiki/DOT_(graph_description_language)\\\">DOT</a> — a <em>graph description language</em> which allows you to define nodes and edges and takes care of all the visual aspects. </p>\\n<h2>Getting started</h2>\\n<p>It’s quite straightforward to get started:</p>\\n<ul>\\n<li>Install <a href=\\\"https://graphviz.org/download/\\\">GraphViz</a>, which includes DOT</li>\\n<li>Install the <a href=\\\"https://marketplace.visualstudio.com/items?itemName=joaompinto.vscode-graphviz\\\">GraphViz VS Code extension</a></li>\\n</ul>\\n<p>With this in place, you can create a new <code class=\\\"language-text\\\">.gv</code> file in VS Code and use <code class=\\\"language-text\\\">Cmd</code> + <code class=\\\"language-text\\\">K</code> + <code class=\\\"language-text\\\">V</code> to open the preview window and every change you make will immediately be rendered to the side.</p>\\n<h2>Your first diagram</h2>\\n<p>The DSL it uses is very straightforward: define the graph type (directed or not), define nodes and how they are related.\\nA very basic example could look like this:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    A -&gt; B\\n}</code></pre>\\n      </div>\\n<p>which brings us to this basic graph:</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/basic-graph-c61b70a05e2bdc78105f7e9a82d3a1f8-444f3.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 196px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 182.65306122448982%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAYAAABCr8kFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAD4klEQVRIx62Wt04sSxCG9wEOHgEJ7jmIycjJyAiIAGEkEAEJIIQRRDwAIU547723QoBwwggPQnhbV19JPfTO7oVzzr0l9W5PT8/ff1dV19+emJgYiYiIkICAAAkKCpLAwEBtPP/69UvHQkJCtNFnnGbmmbGwsDAByxMeHi6pqakyODgobW1t2jo6OmRgYEDH2tvbpaGhQerr66WlpUX6+/t1vKurS+e2trbqc3FxsYDlYYXKykpx2/HxsSwsLMjc3JzMzMzI9PS0zM7O6vPu7q7P/NHRUWXsCQ4OVnRjGxsb0tTUpCAnJyfy8PDgvHt+fpbz83NZWVmR5uZmXeTz81PfsSvIKWBRUZEOwqCnp8eZZIxn9xjGot3d3drHBQrIT0VFhdzd3alPjL2/vzsgHx8f8vb25oDzTMPGx8fVBSMjIxocD/uurq6W+fl59ZsBMKDY5OSk1NbWeo2ZxXAD7x2GAMIQZ19eXvpsEXAinJWV5fXeXpitNzY2Smho6BfDpaUl2dvb89kugVldXdWtLS4uOkAGDFfBsK+v78uHZWVlOoFVbB+aj2xjzGwbIyhEfmhoyDdtdnZ2NB2urq7kJ8N3ZASpg3V2dn6lTUlJiTMRMBzMSdnc3JTr62u5vb2V+/t77e/v72sSc4KMiwxTH8DX11dnwtnZmZ6U4eFhZU2U6cPo8PDQmWe+caJsA5pguH0HOJF0J7udn98Cmg+M8w8ODmRiYkL7ANhp9duAdr4dHR05gO45f8TQ9PGZAWSbfwVoM2TLJPZ/ArQZXlxcaMTts/xHgDYYaZGSkiIJCQnK1M3yR0A7JUyOJSUlqWb4K20/Avo7vzU1NZKWlub3XH8LaBhxzKiPHCeOIJMRI04KfSKOX+1d+T16GCWKyo22oCduxhQFzjOFgQXMey+GptqMjY1p+11bX193ZMOrYiOjVGNWddc83LC2tqYRtiu1eY9r2I2XplRVVakEnJ6e+uTg4+OjqiLN+M1OLYJCxUZG2a3D8N805eXlRUpLS6WwsFCZ2FryraagG1tbW14VBXt6epLe3l6ZmppyRN8ucTc3N8qQbFAJwJEwwOrq6pSRLURugXdrCvcdKjr3Gx9NQZehbo7Yd4YckJtcS3w0xb7bkNTcsHAyBYFbAeWLmoiGEHGyAQAk1pgDyE95eblfFjCFwfLysuo2/e3tbccttjkyGhUVJYmJiZKbmysZGRmSmZkp6enpkp2dLXl5eVJQUKD/pp+fny85OTk61zS+TU5OFrA83DojIyOVLtu3m7nR8m/fbv3N47KpN9jo6GiJjY2V+Ph4iYuL+6tmvgVLGf6f7R+VUhaxGlTNjQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Basic directional graph A to B\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/basic-graph-c61b70a05e2bdc78105f7e9a82d3a1f8-444f3.png\\\"\\n        srcset=\\\"/static/basic-graph-c61b70a05e2bdc78105f7e9a82d3a1f8-444f3.png 196w\\\"\\n        sizes=\\\"(max-width: 196px) 100vw, 196px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>Your second diagram</h2>\\n<p>With the simplest of definitions we’ve been able to connect two nodes but the real work still has to start. Our system will be more complex and consist out of larger subsystems, each of which we might want to model. Take a look at this example:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    subgraph cluster_client {\\n        A\\n        B\\n        C\\n    } \\n    \\n    subgraph cluster_server {\\n        X\\n        Y\\n        Z\\n    }\\n\\n    A -&gt; B -&gt; C\\n    C -&gt; B\\n    A -&gt; A\\n\\n    X -&gt; Z -&gt; Y\\n    Y -&gt; X\\n\\n    B -&gt; X\\n}</code></pre>\\n      </div>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-a25be.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 168.81355932203388%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABYlAAAWJQFJUiTwAAADQklEQVRIx6WWeUtyURDG7xfsI/RvH0NakMokgj5C/hNFq2UECWIEUZAQLaSm5lLZoi1m+7z8JuZilnGv78Dh3OWcZ555Zubc6/T29sra2ppMT0/L7OyszM3N6ZiZmXEH9/Pz87KwsCDRaFSWl5d1cM1YXFyUjY0NCQaD4oyOjgp2f38vjUZDbm5u5Pb2Vl5eXuT19VXnh4cH8WLxeFycgYEBeXx8lMvLSykWi3J9fS1XV1eSTqd11Go1OT8/V4efn5/y9vYm7+/v3wZOMdg6Q0ND0mw2JZvN6sNKpSJ3d3fy8fGhM4wLhYK7CdB2wwm2urr6Bfj8/Cz5fF5DJlwcnJ6eyvr6utTrdSmVSvrMF6DpR9gA5HI5SSaTuhAZnp6evAPi3RjACE1bDU19A9oGmG5tbek1gncNaAxJCnVH+EjxXwwpHcoDzSiXcrmsiwH3DDg4OKglwSYAsd3dXXVCQTPIvG+GhAcoIRvL4+NjXchztDXAdtA/kwJYIpHQHub5xcWFVKtVvTaw9vEnoIVKPWLIsb+//2c/01U/AC2kVColS0tLWosWGiwppe3tbe1rih5pYM67s7MzXc+ppYCwQ0OADw8P5eTkRDdQLgZIK0YiEdWVHqeb7L1FFYvFvgAJiw7BO8ZhgC5WfzDJZDJu2AcHBxomiUNzrln3DZDFlA3dASMWMfMOYAB5jyPYsQ4w9nGNZC4gN3hgZjFAJIVywbhGJ8Aodt7v7OzoqY0hl8uQwkZ8NhCaCQ0brpkBMTkwughmgOKE4TLs7+/v2AFmhGRdhJFtW48j5PkBiJffitZq0QDRbWpqSqWxg4NnZPpXwFazez5W1jH0NZpROjhBZ0BxqoXtBZB3lBKA2N7ens4UM58OSg4nvhjCBibUHkCAdM2wVUOyS9eQefveEL5vDVuzjAP77tgh3DHLXgCPjo50M8UMu2+d4heQjRwe9DM/B10BEiIZttazdsR47jvLACI+TKwFjTEZhiVrFDAQCLhnGqG1DxOcemMTgITKeclsP1I4XFlZEWdkZMTTrxrsLApmQOxbYp+Pzc1NcXp6emRiYkKGh4eFf8VOIxwO6xgbG9N5fHzcvQ+FQjI5OSl9fX3yD6qL0zkTkHUqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Advanced graph with subgraphs\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-a25be.png\\\"\\n        srcset=\\\"/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-7c5ba.png 240w,\\n/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-62101.png 480w,\\n/static/advanced-graph-54fd98815d1e345b0073674c4810d5c8-a25be.png 590w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>There are a couple of things at play here:</p>\\n<ul>\\n<li>We’ve introduced the concept of a <code class=\\\"language-text\\\">subgraph</code> which allows us to provide a logical grouping for subsystems</li>\\n<li>By prefixing the graph name with <code class=\\\"language-text\\\">cluster_</code>, it will render it with a bounding rectangle</li>\\n</ul>\\n<p>It’s important to note that I’ve opted to split out declaring the node and edges from eachother. If we were to omit the node declaration and have it inferred from the edge declaration, the node would be included in the subgraph the edge is defined in which is not always what’s intended. The below example can make this clear:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    subgraph cluster_client {\\n        A\\n    } \\n    \\n    subgraph cluster_server {\\n        B\\n    }\\n\\n    A -&gt; B\\n}</code></pre>\\n      </div>\\n<p>will produce</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/graph-separate-ace8072ddd3478fb58c3d2b33259cf7d-412f3.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 290px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 147.58620689655174%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAABYlAAAWJQFJUiTwAAADIklEQVRIx62VS05iYRCFWQUyUEN0Cw5IVNbBAtyBMwZqTBi6EuPIgTEEHSm+kZf4fqKi+EZFFKjOV526ubZwW9NdSflffy5Vp06dKnxDQ0OytLQk8XhcEomEzM3Nfdt5f35+Xr/b19cngUBAfLFYTP6HhcNh8fv94hsZGdGL3d1dWV1dlUwmI5ubm+q5XE7y+bzj2WxWUqmUfsZ7y8vL8vDwIB8fHzIwMPA5IMHK5bK8vb3J+/u71Go1ubi4kPPzc/VisSg3NzfSaDTk9fVVz62tLb3H+vv7fwccHR3VC7K+vLzo893dnSLZ3t6WnZ0dPakAlKAGEXZ0dKRJMQehBdzY2FBUV1dXihakrYwqksmkPh8fHyv6lgFB+Pj4qCflmD0/P8v6+ro+1+t1PS8vL+Xw8FDOzs7aB6SU09NTLQ2DR2xvb08mJiY0mQVtNptaPiW3DQhnkA3CSqXiILy/v5fb21t5enpy7khCIE+EcEhAGoMcKOtPAzVNIjlG2W0DptNppxFwuL+/r7rjHg55hhYLgJ2cnHztsulwZWVFu0Z56A3B0tGDgwMdL7rP/3DJMyeJLMEXHZZKJdUbyOCI5lASyGZnZzWw3XPilE9VNMpBODY2pgHpXCurVqtSKBQ85xhuBwcHPwd0a89tZIerbwe0kpEHZaEtnNIhfHJyUiKRiDYEju0d6OB/ErZcDhAMPwRh4I346elpXU3cX19fK9cMAM+MqMmr5egxy2Z8EZQkmpmZ0YaBzi16AntOCnMLl2tra4rWPR00DTmRmOAYCf66bViclGuGLkHiNt5Bk56jh974EG25l8PCwoJEo1FnV4KURrBcPZcDI0ZJBHbrEg1OTU3pnNsdUwQlnhxSMqiQAhJpZ0wGCxZ60KfngrUmoDEaQ/m2upAHibinEsy06onQbSZ2yqYBqMBtILQfqS/CtuxsYrrIaT9S9kOFwzGf05TFxUWtAKk5AcfHxz8tAsh3O901tzt7z12RM8vDw8PKCbwB/ydOlykbLkOhkHR0dIgvGAxKb2+vek9Pz4/dvtvd3S1dXV3i409nZ+c/O3EI+gtnlbsjEN4iOgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Graph with edges and nodes separated\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/graph-separate-ace8072ddd3478fb58c3d2b33259cf7d-412f3.png\\\"\\n        srcset=\\\"/static/graph-separate-ace8072ddd3478fb58c3d2b33259cf7d-a9ab8.png 240w,\\n/static/graph-separate-ace8072ddd3478fb58c3d2b33259cf7d-412f3.png 290w\\\"\\n        sizes=\\\"(max-width: 290px) 100vw, 290px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>However if we were to define the edge connection in-place then the rendering shows no separate subgraphs: <code class=\\\"language-text\\\">B</code> is considered to be in the same cluster as <code class=\\\"language-text\\\">A</code>.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    subgraph cluster_client {\\n        A -&gt; B\\n    } \\n    \\n    subgraph cluster_server {\\n        B\\n    }\\n}</code></pre>\\n      </div>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/graph-together-2fcfb899e16f8f6fee5590ae9d50efe4-332f7.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 264px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 155.3030303030303%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC20lEQVRIx62WuU6CQRDHeSg6e0ufwRfAQoMPYOzAysSEjmBBbOytiPFAjQcawPvA+wARAiigjvlNMl8W/dBAnGTz7c7O/Heunf0Cg4ODMj09LVNTUxKNRvXby0AnEonIzMyMDA8PS2B8fFz+i+bn5yUQCoV0Ua1W5ejoSI6Pj71xeHiog/nJyYnuszY5ePv7+/L09KQY8XhcAiMjI7o4PT2VlZUVubm50fnFxYXc3t56a5Svr6/l7u5OCoWC8thLp9Oyu7urGIlEohMQAZeurq7k4OBA8vm85HI5nSPXbrc9mWKxqFb6AjIgrFheXpbz83N5fn6WZrMp7+/v8vLy4lmF23Yoh/0AxKXLy0t5e3tTsI+Pj18TsL29rSHBwmw2+xOQIGMZQX98fFSeuYarCwsLHTy+e3t7ajEh8QXkRJRxEzIrFxcXJRaLSaPR6OBjGcnzjaFl8eHhwcuaWQJQvV6X19dXjw8Q3nR1mYScnZ15J+/s7CjId2q1WpqQ9fV1XeOVb1IAJKtGCG5tbcnm5qYOAGyNN0ZdY+gCUiKuy4BvbGxo7Cx+9gXwTwtN0ZQqlYqnZPzPz8/eACFTKpVKXqK+7/UFSHIsbn0DomBKmUxGW5MBuXs9xdCSMzY2JsFg0EuUG9+eXCbDWJJMJmViYkL5bnH/WYdW2HZzKBXc5VYwKHh4fCnwP+vQACle7nQ3AoRmbK2ua/tCkPtsYBZ4SsatQ+j+/l55v7Yv6zblcrlDeXZ2ViYnJ73WZckCkLj7dhsD5OLjhtv71tbWJJVKKZBZTSPGcrPU12UeH6xaWlqSWq32a8fmGaBv0oy7ti97U3g7VldXVZAnEiX6JPHCE54Ie9B4U3yzbA3WJWLpvtU0VFx0iUN8AQkusQLUSojTias72EcWGeb0SV+XuQEIYqm5z9z9k7C/Bds3GULkAXJP/4vm5uYkMDAwIKOjo4Kl/Q7+j8LhsAwNDckXn1qivPeuIhsAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Graph with edges and nodes together\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/graph-together-2fcfb899e16f8f6fee5590ae9d50efe4-332f7.png\\\"\\n        srcset=\\\"/static/graph-together-2fcfb899e16f8f6fee5590ae9d50efe4-f99b7.png 240w,\\n/static/graph-together-2fcfb899e16f8f6fee5590ae9d50efe4-332f7.png 264w\\\"\\n        sizes=\\\"(max-width: 264px) 100vw, 264px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>Particularly when you’re constantly revisiting your idea of what the architecture looks like, I find it much easier to define all nodes first and draw the edges at the end: it will avoid a node being unintentionally considered part of a different cluster.</p>\\n<h3>Your third diagram</h3>\\n<p>Now that we are able to draw diagrams of any complexity, we’ll start to think a little bit more about how we can customize it. There are <a href=\\\"https://www.graphviz.org/doc/info/attrs.html\\\">many different aspects</a> we can change but some that come to mind:</p>\\n<ul>\\n<li>Change node names</li>\\n<li>Add labels to edges</li>\\n<li>Change arrow styles</li>\\n<li>Add background colours</li>\\n</ul>\\n<p>The documentation can provide all the info you need but as an example that applies this, here’s our example slightly reworked:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">digraph {\\n    node [style=filled, color=lightgrey]\\n    style=filled\\n    splines=ortho\\n\\n    subgraph cluster_client {\\n        label = &quot;Client&quot;\\n        color = &quot;darkorange&quot;\\n\\n        A [label = &quot;Step 1&quot;]\\n        B [label = &quot;Step 2&quot; shape = &quot;polygon&quot; skew=&quot;0.1&quot;]\\n        C [label = &quot;Step 3&quot;]\\n    } \\n    \\n    subgraph cluster_server {\\n        label = &quot;Server&quot;\\n        color = &quot;hotpink&quot;\\n        {rank = same; X; Y}\\n        \\n        X [label = &quot;Phase 1&quot;]\\n        Y [label = &quot;Phase 2&quot;]\\n        Z [label = &quot;Phase 3&quot;]\\n    }\\n\\n    A -&gt; B -&gt; C [arrowhead = &quot;diamond&quot;]\\n    C -&gt; B\\n    A -&gt; A\\n\\n    X -&gt; Z -&gt; Y\\n    Y -&gt; X [dir = &quot;both&quot;]\\n\\n    B -&gt; X [label = &quot;HTTP&quot; style = &quot;dotted&quot;]\\n}</code></pre>\\n      </div>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-65f4b.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 960px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 118.11460258780038%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEQUlEQVQ4y52U629TZRzHj6CEmPjCNxpeaoz+Eb7zJQmXwdptwEJCQNlYuAUCqExgDAOygA7BABJgQJzZut7WdW3ZSqG4G65oO0BiCDBGHA42drr1tOecj79zWnBzBhJO8s1z/zy/23OU2+EfuO4/Qr//KInWo/zuO0Qq1sTAzVsMDAxMUyqVIplM2e0zJZNJey2RSFBeXo5C3VzSXyrc2aiQ3qlArSi4ilf5qqqqUCb3vcm9kwsY+GkLDy+Uk9ujYLjLMGSDoecwDOOF0nXdhmUyGSorKwV45EPil6O4L/bRd/0m6fqPwLUEE5sIpvlCq8zCuqZpeSBfz2Jo77vcPvQx6uH3oVrB9Ja/OlDbN4exLxTGdihM7pL47coD7c2vaqEqydB2C1BkW+hZbltoAa0DL9N04Ldvw+F3eLx/Hn9Uz4MDc9H9qwvXGy/N7AzgcEcdvf1JOkOtxK92kertRI3ttzf9N5v/l+UZwJFILYnOZsKNR0h2NvJnqJ5M+2bbZSMnZZMTt/V/LbXGhoxtSV/P5vLAzDOXD75mx3Bwm0K2RmJoFbd3xTS3LNzw6AhP1LHp7op0Chbq2QKwbo4NGpVkpPfMBkmM2bIC82858EAAD1Vy90e5132D4cQdGFIxBp9iPBjHtPrSMpRGG35KZdU6C/gGmryOJ2LZxJ5ZIHCzwQkbesDRCmXBvFbHeLS8ibuOc+grZVweQXf6mSzxwuIA2vEElVs35IFZC1hdAO4V4BkH+qZuHn8e4q+DUUZ3djDsbGS8qJmJYjfDCy8wssbL/Zp2btT60CpCZI7+OhOY3j0r/3M4UczI+RsEuiK4LgWIpXq4sr2BsQU/o5a4ub/gDAnvZVzxIK29HaSuXCN97jfWbV5fcLkQQ23v688tNDZ2Mb4tzOMDMdQdHYyVuhgvdpF2um1XzbUXeVITlfqNoa0Ooj238OBszK8UHsnzG9oq1ll/m4YSqPgFFkp8lkgcl4pKg0w4PagCzThl3tkGRTJfHID53inAw29xt2kjcd8puj3HyHz/HpwpwqzqxnT6MJe3YS4TlQaYcLhRHS154LKgPW+skAQt8k0B7lcY8H1D0NfMtUutjNV/AMc/EWAPpkOAZXmYWRaw3VWdArQyK5m35+VCFk4FXqvDjNdiXj+F2fMdxKsx+1yw9pKUjV8OttkwSxNFLtRFTWSKPS8AFl7C1OpHlXZNROIUsN2yodLPVoS5W9HMSGmTxLQ9f5EFtFw+NgWY1SbRc5q8ywy6mUV/NI6+qh19iRe9RDIqyRn8MY475McfbqMndpV0VTvGYi+5Ulmf72ayvo+KLevzwBmfJtraBZ/GoPIyrIlhHOhl0NXHoL+f0fMJ2BSHz2R93RVYGYVzt1i/fTNKNBolFAoRDofziojaZXzeQ/ism3CDx9bFky1ET3noOO2h80QLkdPP1txEznpoa/Sw1FHMP0ZGIx9QUyEkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Graph with different arrowheads, colours, labels and other customizations\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-c83f1.png\\\"\\n        srcset=\\\"/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-569e3.png 240w,\\n/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-93400.png 480w,\\n/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-c83f1.png 960w,\\n/static/mega-graph-eeeb0bc48582554ba714d38ff5ee489e-65f4b.png 1082w\\\"\\n        sizes=\\\"(max-width: 960px) 100vw, 960px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\",\"fields\":{\"tagSlugs\":[\"/tags/dot/\",\"/tags/diagrams/\"]},\"frontmatter\":{\"title\":\"Better diagrams through DOT\",\"tags\":[\"DOT\",\"Diagrams\"],\"date\":\"2020-06-14T18:00:00.000Z\",\"description\":\"Building flow diagrams can be tedious to create and even more to update. Rather than drawing shapes and lines yourself, consider using DOT to focus on what matters: the data.\"}}},\"pathContext\":{\"slug\":\"/posts/better-diagrams-through-dot\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/posts-better-diagrams-through-dot.json\n// module id = 493\n// module chunks = 52270612062531"],"sourceRoot":""}